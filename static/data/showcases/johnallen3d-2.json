{
  "id": "johnallen3d-2",
  "title": "johnallen3d's Setup",
  "author": "johnallen3d",
  "authorUrl": "https://github.com/johnallen3d",
  "description": "A SketchyBar configuration shared by johnallen3d in the community showcase thread.",
  "screenshots": [
    "/screenshots/johnallen3d-2/main.png"
  ],
  "thumbnail": "/screenshots/johnallen3d-2/main.png",
  "mode": "dark",
  "tags": [
    "minimal"
  ],
  "githubUrl": "https://github.com/johnallen3d/dotfiles",
  "dependencies": [
    "sketchybar"
  ],
  "dotfiles": {
    "executable_sketchybarrc": "#!/usr/bin/env bash\n\n# to avoid doing thisüëá\n# export PATH=\"/usr/local/bin:$PATH\"\n# modify the plist file to be prefixed with `/usr/local/bin`\n# /opt/homebrew/Cellar/sketchybar/[current-version]/homebrew.mxcl.sketchybar.plist\n\n#\n# colors\n#\ntransparent_color=\"0x00000000\"\n\n# catppuccin-mocha\n# default_label_color=\"0xffCDD6F4\"\n# default_icon_color=\"0xffCDD6F4\"\n# highlight_icon_color=\"0xff89b4fa\"\n# bracket_border_color=\"${transparent_color}\"\n# bracket_background_color=\"0xff313244\"\n# current_app_background_color=\"0xff89b4fa\"\n# current_app_color=\"0xff121219\"\n# music_highlight=\"0xffEDC4E5\"\n# time_highlight=\"0xffF5E3B5\"\n# date_highlitht=\"0xffb4befe\"\n# weather_highlight=\"0xffB3E1A7\"\n# cpu_highlight=\"0xffa6adc8\"\n\n# onedark-deep\n# bracket_background_color=\"0xff1a212e\"\n# default_label_color=\"0xff93a4c3\"\n# default_icon_color=\"0xff93a4c3\"\n# highlight_icon_color=\"0xff8ebd6b\"\n# bracket_border_color=\"${transparent_color}\"\n# current_app_background_color=\"0xff41a7fc\"\n# current_app_color=\"0xff0c0e15\"\n# music_highlight=\"0xff8bcd5b\"\n# cpu_highlight=\"0xff41a7fc\"\n# weather_highlight=\"0xffefbd5d\"\n# date_highlight=\"0xffc75ae8\"\n# time_highlight=\"0xff34bfd0\"\n\n# tokyonight-moon\nbracket_background_color=\"0xff222436\"\ndefault_label_color=\"0xffc8d3f5\"\ndefault_icon_color=\"0xffc8d3f5\"\nhighlight_icon_color=\"0xffc3e88d\"\nbracket_border_color=\"${transparent_color}\"\ncurrent_app_background_color=\"0xff82aaff\"\ncurrent_app_color=\"0xff1b1d2b\"\nmusic_highlight=\"0xffc3e88d\"\ncpu_highlight=\"0xff82aaff\"\nweather_highlight=\"0xffffc777\"\ndate_highlight=\"0xffc099ff\"\ntime_highlight=\"0xff86e1fc\"\n\n#\n# fonts\n#\ndefault_icon_font=\"Font Awesome 6 Pro:Regular:14.0\"\ndefault_label_font=\"Cascadia Code PL:SemiBold:14.0\"\nbrand_font=\"Font Awesome 6 Brands:Regular:14.0\"\n# duotone_font=\"Font Awesome 6 Duotone:Solid:14.0\"\n\n#\n# variables\n#\nplugins=\"$HOME/.config/sketchybar/plugins\"\ndisplay_count=\"$(yabai -m query --displays | jq -r 'length')\"\n\n############## BAR ##############\nsketchybar --bar \\\n\theight=36 \\\n\ty_offset=6 \\\n\tblur_radius=0 \\\n\tposition=top \\\n\tpadding_left=12 \\\n\tpadding_right=12 \\\n\tmargin=0 \\\n\tcorner_radius=0 \\\n\tcolor=$transparent_color \\\n\tshadow=off\n\n# ############## DEFAULTS ###############\nsketchybar --default \\\n\ticon.color=\"${default_icon_color}\" \\\n\ticon.font=\"${default_icon_font}\" \\\n\ticon.highlight_color=\"${highlight_icon_color}\" \\\n\ticon.padding_left=6 \\\n\ticon.padding_right=6 \\\n\tlabel.color=\"${default_label_color}\" \\\n\tlabel.font=\"${default_label_font}\" \\\n\tlabel.padding_left=6 \\\n\tlabel.padding_right=6 \\\n\tbackground.height=24 \\\n\tbackground.padding_right=4 \\\n\tbackground.padding_left=4 \\\n\tbackground.corner_radius=5 \\\n\tupdates=when_shown\n\n############## DISPLAY 1 ###############\nsketchybar \\\n\t--add space web left \\\n\t--set web associated_display=1 \\\n\tlabel.drawing=off \\\n\tassociated_space=1 \\\n\ticon=ÔÖé \\\n\tclick_script=\"yabai -m space --focus browser\" \\\n\tbackground.color=$transparent_color \\\n\t--add space slack left \\\n\t--set slack associated_display=1 \\\n\tlabel.drawing=off \\\n\tassociated_space=2 \\\n\ticon=ÔÜò \\\n\ticon.font=\"${brand_font}\" \\\n\tclick_script=\"yabai -m space --focus chat\" \\\n\tbackground.color=$transparent_color \\\n\t--add space mail left \\\n\t--set mail associated_display=1 \\\n\tlabel.drawing=off \\\n\tassociated_space=3 \\\n\ticon=Ôôò \\\n\tclick_script=\"yabai -m space --focus mail\" \\\n\tbackground.color=$transparent_color \\\n\t--add space messages left \\\n\t--set messages associated_display=1 \\\n\tlabel.drawing=off \\\n\ticon.padding_right=8 \\\n\tassociated_space=4 \\\n\ticon=Ôüç \\\n\tclick_script=\"yabai -m space --focus messages\" \\\n\tbackground.color=$transparent_color \\\n\t--add item window_title_logo_display_1 left \\\n\t--set window_title_logo_display_1 associated_display=1 \\\n\ticon=Ôçæ \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$current_app_background_color\n\nsketchybar \\\n\t--add event window_focus \\\n\t--add event title_change \\\n\t--add item window_title_display_1 left \\\n\t--set window_title_display_1 associated_display=1 \\\n\ticon.drawing=off \\\n\tbackground.color=$transparent_color \\\n\tscript=\"$plugins/window_title.sh\" \\\n\t--subscribe window_title_display_1 \\\n\twindow_focus \\\n\tfront_app_switched \\\n\tspace_change \\\n\ttitle_change\n\nsketchybar \\\n\t--add bracket primary_spaces_bracket \\\n\tweb \\\n\tslack \\\n\tmail \\\n\tmessages \\\n\twindow_title_logo_display_1 \\\n\twindow_title_display_1 \\\n\t--set primary_spaces_bracket \\\n\tbackground.color=$bracket_background_color \\\n\tbackground.border_color=$bracket_border_color \\\n\tbackground.border_width=3 \\\n\tbackground.corner_radius=8 \\\n\tbackground.height=32\n\n############## DISPLAY 2 ###############\nscratch_space=5\nterminal_space=6\nflex=\" \"\n\nif [ \"${display_count}\" = \"2\" ]; then\n\tscratch_space=6\n\tterminal_space=7\n\tflex=\"flex\"\n\n\tsketchybar \\\n\t\t--add space flex left \\\n\t\t--set flex associated_display=2 \\\n\t\tlabel.drawing=off \\\n\t\tassociated_space=5 \\\n\t\ticon=Ùè¢∫ \\\n\t\tbackground.color=$transparent_color \\\n\t\tclick_script=\"yabai -m space --focus flex\"\nfi\n\nsketchybar \\\n\t--add space scratch left \\\n\t--set scratch associated_display=2 \\\n\tlabel.drawing=off \\\n\tassociated_space=\"${scratch_space}\" \\\n\ticon=Ôêé \\\n\tbackground.color=$transparent_color \\\n\tclick_script=\"yabai -m space --focus scratch\" \\\n\t--add space terminal left \\\n\t--set terminal associated_display=2 \\\n\tlabel.drawing=off \\\n\tassociated_space=\"${terminal_space}\" \\\n\ticon=Ôü™ \\\n\tbackground.color=$transparent_color \\\n\tclick_script=\"yabai -m space --focus terminal\" \\\n\t--add item window_title_logo_display_2 left \\\n\t--set window_title_logo_display_2 associated_display=2 \\\n\ticon=Ôçæ \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$current_app_background_color\n\nsketchybar \\\n\t--add event window_focus \\\n\t--add event title_change \\\n\t--add item window_title_display_2 left \\\n\t--set window_title_display_2 associated_display=2 \\\n\ticon.drawing=off \\\n\tbackground.color=$transparent_color \\\n\tscript=\"$plugins/window_title.sh\" \\\n\t--subscribe window_title_display_2 \\\n\twindow_focus \\\n\tfront_app_switched \\\n\tspace_change \\\n\ttitle_change\n\nsketchybar \\\n\t--add bracket secondary_spaces_bracket \\\n\t\"${flex}\" \\\n\tscratch \\\n\tterminal \\\n\twindow_title_logo_display_2 \\\n\twindow_title_display_2 \\\n\t--set secondary_spaces_bracket \\\n\tbackground.color=$bracket_background_color \\\n\tbackground.border_color=$bracket_border_color \\\n\tbackground.border_width=3 \\\n\tbackground.corner_radius=8 \\\n\tbackground.height=32\n\n###################### FLOAT ###################\n# if [ \"${display_count}\" = \"1\" ]; then\n# \tmpd_location=\"left\"\n\n# \tsketchybar \\\n# \t\t--add item mpd_spacer $mpd_location \\\n# \t\t--set mpd_spacer \\\n# \t\ticon=ÔÄÅ \\\n# \t\tassociated_display=\"${display_count}\" \\\n# \t\ticon.drawing=off \\\n# \t\tlabel=\"\" \\\n# \t\tbackground.color=$transparent_color\n# else\n# \tmpd_location=\"center\"\n# fi\n\n# sketchybar \\\n# \t--add item mpd_logo $mpd_location \\\n# \t--set mpd_logo \\\n# \ticon=ÔÄÅ \\\n# \tassociated_display=\"${display_count}\" \\\n# \tlabel.drawing=off \\\n# \ticon.color=$current_app_color \\\n# \tbackground.color=$music_highlight\n\n# sketchybar \\\n# \t--add item mpd $mpd_location \\\n# \t--set mpd \\\n# \tassociated_display=\"${display_count}\" \\\n# \ticon.drawing=on \\\n# \ticon.color=$music_highlight \\\n# \tupdate_freq=2 \\\n# \tscript=\"${plugins}/mpd.sh\" \\\n# \tclick_script=\"mpc toggle\" \\\n# \tbackground.color=$transparent_color\n\n# sketchybar \\\n# \t--add bracket mpd_bracket \\\n# \tmpd_logo \\\n# \tmpd \\\n# \t--set mpd_bracket \\\n# \tbackground.color=$bracket_background_color \\\n# \tbackground.border_color=$bracket_border_color \\\n# \tbackground.border_width=3 \\\n# \tbackground.corner_radius=8 \\\n# \tbackground.height=32\n\n######################SHARED ###################\nsketchybar \\\n\t--add item time right \\\n\t--set time update_freq=10 \\\n\ticon.drawing=off \\\n\tscript=\"~/.config/sketchybar/plugins/time.sh\" \\\n\tbackground.color=$transparent_color \\\n\tbackground.padding_left=5\n\nsketchybar \\\n\t--add item time_logo right \\\n\t--set time_logo icon=Óçõ \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$time_highlight\n\nsketchybar \\\n\t--add item date right \\\n\t--set date update_freq=1000 \\\n\ticon.drawing=off \\\n\tscript=\"~/.config/sketchybar/plugins/date.sh\" \\\n\tbackground.color=$transparent_color \\\n\tbackground.padding_left=5\n\nsketchybar \\\n\t--add item date_logo right \\\n\t--set date_logo icon=ÔÅ≥ \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$date_highlight\n\nsketchybar \\\n\t--add item weather right \\\n\t--set weather \\\n\tupdate_freq=1800 \\\n\ticon.drawing=off \\\n\tscript=\"${plugins}/weather.sh\" \\\n\tbackground.color=$transparent_color \\\n\tclick_script=\"open https://darksky.net/forecast/34.967,-80.927/us12/en\"\n\nsketchybar \\\n\t--add item weather_logo right \\\n\t--set weather_logo icon=ÔÜÖ \\\n\ticon.font=\"Hack Nerd Font:Regular:14.0\" \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$weather_highlight\n\nsketchybar \\\n\t--add item cpu right \\\n\t--set cpu \\\n\ticon.drawing=off \\\n\tupdate_freq=5 \\\n\tscript=\"${plugins}/cpu.sh\" \\\n\tbackground.color=$transparent_color \\\n\tclick_script=\"open -a activity\\ monitor\"\n\nsketchybar \\\n\t--add item cpu_logo right \\\n\t--set cpu_logo icon=Ôãõ \\\n\ticon.color=$current_app_color \\\n\tlabel.drawing=off \\\n\tbackground.color=$cpu_highlight\n\nsketchybar --add bracket right_bar_bracket \\\n\ttime \\\n\ttime_logo \\\n\tdate \\\n\tdate_logo \\\n\tweather \\\n\tweather_logo \\\n\tcpu \\\n\tcpu_logo \\\n\t--set right_bar_bracket \\\n\tbackground.color=$bracket_background_color \\\n\tbackground.border_color=$bracket_border_color \\\n\tbackground.border_width=3 \\\n\tbackground.corner_radius=8 \\\n\tbackground.height=36\n\n###################### FINALIZE ###################\nsketchybar -m --update\n\necho \"sketchybar configuration loaded..\"\n\nexit 0\n",
    "plugins/executable_clock.sh": "#!/usr/bin/env bash\n\nsketchybar -m --set clock label=\"$(date '+%Y-%m-%d %H:%M')\"\n",
    "plugins/executable_cpu.sh": "#!/usr/bin/env bash\n\ncpu_usage=\"$(ps -axro pcpu | awk '{sum+=$1} END {print sum}')\"\naverage_by_core=$(echo \"${cpu_usage}/10\" | bc)\n\nsketchybar -m --set cpu label=\"${average_by_core}%\"\n",
    "plugins/executable_date.sh": "#!/usr/bin/env sh\n\nsketchybar --set $NAME label=\"$(date '+%Y-%m-%d')\"\n\n",
    "plugins/executable_dnd.sh": "#!/usr/bin/env bash\n\n# TODO: this does not work on Monterey?\nstatus=$(defaults read com.apple.controlcenter \"NSStatusItem Visible DoNotDisturb\")\n\nif [[ \"$status\" = \"0\" ]]; then\n\ticon=\"\"\nelse\n\ticon=\"ÔÜÜ\"\nfi\n\nsketchybar -m --set dnd icon=\"$icon\"\n",
    "plugins/executable_mpd.sh": "#!/usr/bin/env bash\n\nstatus=\"$(mpc status)\"\n\nif [ \"$(echo \"${status}\" | wc -l | tr -d ' ')\" == \"1\" ]; then\n  output=\"\"\n  icon=\"Ô£â\"\nelse\n  artist=$(mpc current -f %artist%)\n  song=$(mpc current -f %title%)\n\n  if [ \"$(echo \"${status}\" | grep -c playing)\" == \"1\" ]; then\n    icon=\"ÔÅå\"\n  else\n    icon=\"ÔÅã\"\n  fi\n\n  output=\"${artist} ‚Ä¢ ${song}\"\nfi\n\nsketchybar -m \\\n  --set mpd icon=\"${icon}\" \\\n  --set mpd label=\"${output}\"\n",
    "plugins/executable_time.sh": "#!/usr/bin/env bash\n\nhour=\"$(date +%I)\"\nminute=\"$(date +%M)\"\n\nsuffix=\"\"\n\nif [ \"${minute}\" -gt \"30\" ]; then\n  suffix=\"-30\"\nfi\n\ncase \"${hour}${suffix}\" in\n  \"01\")    icon=Óçé ;;\n  \"01-30\") icon=Óçè ;;\n  \"02\")    icon=Óçö ;;\n  \"02-30\") icon=Óçõ ;;\n  \"03\")    icon=Óçñ ;;\n  \"03-30\") icon=Óçó ;;\n  \"04\")    icon=ÔÄó ;;\n  \"04-30\") icon=Óçã ;;\n  \"05\")    icon=Óçâ ;;\n  \"05-30\") icon=Óçä ;;\n  \"06\")    icon=Óçí ;;\n  \"06-30\") icon=Óçì ;;\n  \"07\")    icon=Óçê ;;\n  \"07-30\") icon=Óçë ;;\n  \"08\")    icon=ÓçÖ ;;\n  \"08-30\") icon=ÓçÜ ;;\n  \"09\")    icon=Óçå ;;\n  \"09-30\") icon=Óçç ;;\n  \"10\")    icon=Óçî ;;\n  \"10-30\") icon=Óçï ;;\n  \"11\")    icon=Óçá ;;\n  \"11-30\") icon=Óçà ;;\n  \"12\")    icon=Óçò ;;\n  \"12-30\") icon=Óçô ;;\nesac\n\nsketchybar -m \\\n  --set time_logo icon=\"${icon}\" \\\n  --set time label=\"$(date +%H:%M)\"\n",
    "plugins/executable_weather.sh": "#!/bin/bash\n\nconditions=\"$($HOME/.cargo/bin/conditions current)\"\nicon=$(echo \"$conditions\" | jq -r .icon)\ntemp=$(echo \"$conditions\" | jq -r .temp)\n\n[[ $DEBUG = true ]] && echo \"$temp\"\n\nsketchybar -m \\\n  --set weather_logo icon=\"${icon}\" \\\n  --set weather label=\"${temp}¬∞F\"\n",
    "plugins/executable_window_title.sh": "#!/bin/bash\n\nWINDOW_TITLE=$(yabai -m query --windows --window | jq -r '.app')\n\n# WINDOW_TITLE=$($yabai -m query --windows --window | jq -r '.title')\n\n# if [[ $WINDOW_TITLE = \"\" ]]; then\n#   WINDOW_TITLE=$($yabai -m query --windows --window | jq -r '.app')\n# fi\n\n# if [[ ${#WINDOW_TITLE} -gt 50 ]]; then\n#   WINDOW_TITLE=$(echo \"$WINDOW_TITLE\" | cut -c 1-50)\n# fi\n\nsketchybar -m --set $NAME label=\"${WINDOW_TITLE}\"\n",
    "plugins/executable_zoom-mute-toggle.sh": "#!/usr/bin/env bash\n\nosascript <<'END'\ntell application \"System Events\"\n  keystroke \"a\" using {shift down, command down}\nend tell\nEND\n\n# desire to refresh state after toogle\n# sketchybar -m update\n# sketchybar -m set zoom enabled off\n# sketchybar -m set zoom enabled on\n",
    "plugins/executable_zoom.sh": "#!/usr/bin/env bash\n\nstatus=$(~/.config/spacebar/zoom-mute-status)\n\n# catppuccin-mocha\nunmuted_color=\"0xffa6e3a1\"\nmuted_color=\"0xfff38ba8\"\n\n# onedark-deep\n# unmuted_color=\"0xff8bcd5b\"\n# muted_color=\"0xff992525\"\n\nif [[ \"$status\" = \"UNMUTED\" ]]; then\n  icon=\"ÔÑ∞\"\n  color=\"$unmuted_color\"\nelif [[ \"$status\" = \"MUTED\" ]]; then\n  icon=\"ÔÑ±\"\n  color=\"$muted_color\"\nelse\n  icon=\"\"\nfi\n\nsketchybar -m --set $NAME icon=\"$icon\"\nsketchybar -m --set $NAME icon.color=\"$color\"\n"
  },
  "createdAt": "2023-01-14"
}