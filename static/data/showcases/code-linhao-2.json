{
  "id": "code-linhao-2",
  "title": "code-linhao's Setup (Dracula)",
  "author": "code-linhao",
  "authorUrl": "https://github.com/code-linhao",
  "description": "A SketchyBar configuration shared by code-linhao in the community showcase thread.",
  "screenshots": [
    "/screenshots/code-linhao-2/main.jpg",
    "/screenshots/code-linhao-2/screenshot-1.jpg"
  ],
  "thumbnail": "/screenshots/code-linhao-2/main.jpg",
  "mode": "dark",
  "tags": [
    "dracula",
    "gruvbox",
    "icons",
    "widgets"
  ],
  "githubUrl": "https://github.com/code-linhao/dotfiles",
  "dependencies": [
    "sketchybar"
  ],
  "dotfiles": {
    "plugins/battery.sh": "PERCENTAGE=$(pmset -g batt | grep -Eo \"\\d+%\" | cut -d% -f1)\nCHARGING=$(pmset -g batt | grep 'AC Power')\n\nif [ $PERCENTAGE = \"\" ]; then\n  exit 0\nfi\n\nif [[ $CHARGING != \"\" ]]; then\n  case ${PERCENTAGE} in\n    9[0-9]|100) ICON=\"󰂅\"\n    ;;\n    [6-8][0-9]) ICON=\"󰢞\"\n    ;;\n    [3-5][0-9]) ICON=\"󰢝\"\n    ;;\n    [1-2][0-9]) ICON=\"󰂇\"\n    ;;\n    *) ICON=\"󰢜\"\n    esac\nelse\n    case ${PERCENTAGE} in\n        9[0-9]|100) ICON=\"󰁹\"\n        ;;\n        [6-8][0-9]) ICON=\"󰂀\"\n        ;;\n        [3-5][0-9]) ICON=\"󰁾\"\n        ;;\n        [1-2][0-9]) ICON=\"󰁼\"\n        ;;\n        *) ICON=\"󰁺\"\n    esac\nfi\n\n# The item invoking this script (name $NAME) will get its icon and label\n# updated with the current battery status\nsketchybar --set $NAME icon=\"$ICON\" label=\"${PERCENTAGE}%\"",
    "plugins/date.sh": "sketchybar --set $NAME label=\"$(date '+%a, %b %d')\"\n",
    "plugins/focus.sh": "WINDOW_TITLE=$(yabai -m query --windows --window | jq -r '.title')\nAPP=$(yabai -m query --windows --window | jq -r '.app')\nICON=$($HOME/.config/sketchybar/plugins/icons.sh $APP)\n\nsketchybar -m --set focus icon.drawing=on label.drawing=on\n\nif [[ $APP = \"Safari\" ]]; then\n  WINDOW_TITLE=${WINDOW_TITLE/, Private Browsing/\"\"}\nfi\n\nif [[ $APP = \"Discord\" ]]; then\n  WINDOW_TITLE=${WINDOW_TITLE/- Discord/\"\"}\nfi\n\nif [[ $APP = \"Microsoft Teams\" ]]; then\n  WINDOW_TITLE=${WINDOW_TITLE/| Microsoft Teams/\"\"}\nfi\n\nif [[ $APP = \"Obsidian\" ]]; then\n  WINDOW_TITLE=$(echo \"${WINDOW_TITLE%%-*}\")\nfi\n\nif [[ \"$WINDOW_TITLE\" == \"http\"* ]]; then\n    WINDOW_TITLE=${WINDOW_TITLE#*//}\n    WINDOW_TITLE=${WINDOW_TITLE%%/*}\n    WINDOW_TITLE=${WINDOW_TITLE/www./\"\"}\nfi\n\nif [[ ${#WINDOW_TITLE} -gt 50 ]]; then\n  WINDOW_TITLE=$(echo \"$WINDOW_TITLE\" | cut -c 1-50)…\nfi\n\nif [[ $APP = \"\" ]]; then\n  sketchybar -m --set focus icon.drawing=off label.drawing=off\n  exit 0\nfi\n\nif [[ $APP = $WINDOW_TITLE ]]; then\n  sketchybar -m --set focus label=\"$APP\" icon=\"$ICON\"\n  exit 0\nfi\n\nif [[ $WINDOW_TITLE = \"\" ]]; then\n    sketchybar -m --set focus label=\"$APP\" icon=\"$ICON\"\n    exit 0\nfi\n\n\nif [[ $INFO = 0 ]]; then\n    sketchybar -m --set focus background.padding_left=6\nfi\n\nif [[ $INFO = 1 ]]; then\n    sketchybar -m --set focus background.padding_left=6\nfi\n\nif [[ $INFO = 2 ]]; then\n    sketchybar -m --set focus background.padding_left=2\nfi\n\n\nsketchybar -m --set focus label=\"$APP / $WINDOW_TITLE\"\nsketchybar -m --set focus icon=\"$ICON\"\n",
    "plugins/icons.sh": "case $@ in\n\"Brave Browser\")\n  icon_result=\":brave_browser:\"\n  ;;\n\"Keyboard Maestro\")\n  icon_result=\":keyboard_maestro:\"\n  ;;\n\"Min\")\n  icon_result=\":min_browser:\"\n  ;;\n\"Final Cut Pro\")\n  icon_result=\":final_cut_pro:\"\n  ;;\n\"FaceTime\")\n  icon_result=\":face_time:\"\n  ;;\n\"Affinity Publisher\")\n  icon_result=\":affinity_publisher:\"\n  ;;\n\"Messages\" | \"Nachrichten\")\n  icon_result=\":messages:\"\n  ;;\n\"Tweetbot\" | \"Twitter\")\n  icon_result=\":twitter:\"\n  ;;\n\"ClickUp\")\n  icon_result=\":click_up:\"\n  ;;\n\"KeePassXC\")\n  icon_result=\":kee_pass_x_c:\"\n  ;;\n\"Microsoft Edge\")\n  icon_result=\":microsoft_edge:\"\n  ;;\n\"VLC\")\n  icon_result=\":vlc:\"\n  ;;\n\"Emacs\")\n  icon_result=\":emacs:\"\n  ;;\n\"Thunderbird\")\n  icon_result=\":thunderbird:\"\n  ;;\n\"Notes\")\n  icon_result=\":notes:\"\n  ;;\n\"Caprine\")\n  icon_result=\":caprine:\"\n  ;;\n\"Zulip\")\n  icon_result=\":zulip:\"\n  ;;\n\"Spark\")\n  icon_result=\":spark:\"\n  ;;\n\"Microsoft To Do\" | \"Things\")\n  icon_result=\":things:\"\n  ;;\n\"DEVONthink 3\")\n  icon_result=\":devonthink3:\"\n  ;;\n\"GitHub Desktop\")\n  icon_result=\":git_hub:\"\n  ;;\n\"App Store\")\n  icon_result=\":app_store:\"\n  ;;\n\"Chromium\" | \"Google Chrome\" | \"Google Chrome Canary\")\n  icon_result=\":google_chrome:\"\n  ;;\n\"zoom.us\")\n  icon_result=\":zoom:\"\n  ;;\n\"MoneyMoney\")\n  icon_result=\":bank:\"\n  ;;\n\"Color Picker\")\n  icon_result=\":color_picker:\"\n  ;;\n\"Microsoft Word\")\n  icon_result=\":microsoft_word:\"\n  ;;\n\"Iris\")\n  icon_result=\":iris:\"\n  ;;\n\"WebStorm\")\n  icon_result=\":web_storm:\"\n  ;;\n\"Neovide\" | \"MacVim\" | \"Vim\" | \"VimR\")\n  icon_result=\":vim:\"\n  ;;\n\"Sublime Text\")\n  icon_result=\":sublime_text:\"\n  ;;\n\"PomoDone App\")\n  icon_result=\":pomodone:\"\n  ;;\n\"Setapp\")\n  icon_result=\":setapp:\"\n  ;;\n\"qutebrowser\")\n  icon_result=\":qute_browser:\"\n  ;;\n\"Mattermost\")\n  icon_result=\":mattermost:\"\n  ;;\n\"Notability\")\n  icon_result=\":notability:\"\n  ;;\n\"WhatsApp\")\n  icon_result=\":whats_app:\"\n  ;;\n\"OBS\")\n  icon_result=\":obsstudio:\"\n  ;;\n\"Parallels Desktop\")\n  icon_result=\":parallels:\"\n  ;;\n\"VMware Fusion\")\n  icon_result=\":vmware_fusion:\"\n  ;;\n\"Pine\")\n  icon_result=\":pine:\"\n  ;;\n\"Microsoft Excel\")\n  icon_result=\":microsoft_excel:\"\n  ;;\n\"Microsoft PowerPoint\")\n  icon_result=\":microsoft_power_point:\"\n  ;;\n\"Matlab\")\n  icon_result=\":matlab:\"\n  ;;\n\"Numbers\")\n  icon_result=\":numbers:\"\n  ;;\n\"Default\")\n  icon_result=\":default:\"\n  ;;\n\"Element\")\n  icon_result=\":element:\"\n  ;;\n\"Bear\")\n  icon_result=\":bear:\"\n  ;;\n\"TeamSpeak 3\")\n  icon_result=\":team_speak:\"\n  ;;\n\"Airmail\")\n  icon_result=\":airmail:\"\n  ;;\n\"Firefox Developer Edition\" | \"Firefox Nightly\")\n  icon_result=\":firefox_developer_edition:\"\n  ;;\n\"Trello\")\n  icon_result=\":trello:\"\n  ;;\n\"TickTick\")\n  icon_result=\":tick_tick:\"\n  ;;\n\"Notion\")\n  icon_result=\":notion:\"\n  ;;\n\"Live\")\n  icon_result=\":ableton:\"\n  ;;\n\"Evernote Legacy\")\n  icon_result=\":evernote_legacy:\"\n  ;;\n\"Calendar\" | \"Fantastical\")\n  icon_result=\":calendar:\"\n  ;;\n\"Android Studio\")\n  icon_result=\":android_studio:\"\n  ;;\n\"Xcode\")\n  icon_result=\":xcode:\"\n  ;;\n\"Slack\")\n  icon_result=\":slack:\"\n  ;;\n\"Sequel Pro\")\n  icon_result=\":sequel_pro:\"\n  ;;\n\"Bitwarden\")\n  icon_result=\":bit_warden:\"\n  ;;\n\"System Preferences\" | \"System Settings\")\n  icon_result=\":gear:\"\n  ;;\n\"Discord\" | \"Discord Canary\" | \"Discord PTB\")\n  icon_result=\":discord:\"\n  ;;\n\"Vivaldi\")\n  icon_result=\":vivaldi:\"\n  ;;\n\"Firefox\")\n  icon_result=\":firefox:\"\n  ;;\n\"Skype\")\n  icon_result=\":skype:\"\n  ;;\n\"Dropbox\")\n  icon_result=\":dropbox:\"\n  ;;\n\"微信\" | \"WeChat\")\n  icon_result=\":wechat:\"\n  ;;\n\"Typora\")\n  icon_result=\":text:\"\n  ;;\n\"Blender\")\n  icon_result=\":blender:\"\n  ;;\n\"Canary Mail\" | \"HEY\" | \"Mail\" | \"Mailspring\" | \"MailMate\" | \"邮件\")\n  icon_result=\":mail:\"\n  ;;\n\"Safari\" | \"Safari Technology Preview\")\n  icon_result=\":safari:\"\n  ;;\n\"Telegram\")\n  icon_result=\":telegram:\"\n  ;;\n\"Keynote\")\n  icon_result=\":keynote:\"\n  ;;\n\"Reeder\")\n  icon_result=\":reeder5:\"\n  ;;\n\"Spotify\")\n  icon_result=\":spotify:\"\n  ;;\n\"MAMP\" | \"MAMP PRO\")\n  icon_result=\":mamp:\"\n  ;;\n\"Figma\")\n  icon_result=\":figma:\"\n  ;;\n\"Joplin\")\n  icon_result=\":joplin:\"\n  ;;\n\"Spotlight\")\n  icon_result=\":spotlight:\"\n  ;;\n\"Music\")\n  icon_result=\":music:\"\n  ;;\n\"Insomnia\")\n  icon_result=\":insomnia:\"\n  ;;\n\"TIDAL\")\n  icon_result=\":tidal:\"\n  ;;\n\"Alfred\")\n  icon_result=\":alfred:\"\n  ;;\n\"Pages\")\n  icon_result=\":pages:\"\n  ;;\n\"Folx\")\n  icon_result=\":folx:\"\n  ;;\n\"Android Messages\")\n  icon_result=\":android_messages:\"\n  ;;\n\"mpv\")\n  icon_result=\":mpv:\"\n  ;;\n\"网易云音乐\")\n  icon_result=\":netease_music:\"\n  ;;\n\"Transmit\")\n  icon_result=\":transmit:\"\n  ;;\n\"Pi-hole Remote\")\n  icon_result=\":pihole:\"\n  ;;\n\"Nova\")\n  icon_result=\":nova:\"\n  ;;\n\"Affinity Designer\")\n  icon_result=\":affinity_designer:\"\n  ;;\n\"IntelliJ IDEA\")\n  icon_result=\":idea:\"\n  ;;\n\"Drafts\")\n  icon_result=\":drafts:\"\n  ;;\n\"Audacity\")\n  icon_result=\":audacity:\"\n  ;;\n\"Affinity Photo\")\n  icon_result=\":affinity_photo:\"\n  ;;\n\"Atom\")\n  icon_result=\":atom:\"\n  ;;\n\"Obsidian\")\n  icon_result=\":obsidian:\"\n  ;;\n\"CleanMyMac X\")\n  icon_result=\":desktop:\"\n  ;;\n\"Zotero\")\n  icon_result=\":zotero:\"\n  ;;\n\"Todoist\")\n  icon_result=\":todoist:\"\n  ;;\n\"LibreWolf\")\n  icon_result=\":libre_wolf:\"\n  ;;\n\"Grammarly Editor\")\n  icon_result=\":grammarly:\"\n  ;;\n\"OmniFocus\")\n  icon_result=\":omni_focus:\"\n  ;;\n\"Reminders\")\n  icon_result=\":reminders:\"\n  ;;\n\"Preview\" | \"Skim\" | \"zathura\")\n  icon_result=\":pdf:\"\n  ;;\n\"1Password 7\")\n  icon_result=\":one_password:\"\n  ;;\n\"Code\" | \"Code - Insiders\")\n  icon_result=\":code:\"\n  ;;\n\"VSCodium\")\n  icon_result=\":vscodium:\"\n  ;;\n\"Tower\")\n  icon_result=\":tower:\"\n  ;;\n\"Calibre\")\n  icon_result=\":book:\"\n  ;;\n\"Finder\" | \"访达\")\n  icon_result=\":finder:\"\n  ;;\n\"Linear\")\n  icon_result=\":linear:\"\n  ;;\n\"League of Legends\")\n  icon_result=\":league_of_legends:\"\n  ;;\n\"Zeplin\")\n  icon_result=\":zeplin:\"\n  ;;\n\"Signal\")\n  icon_result=\":signal:\"\n  ;;\n\"Podcasts\")\n  icon_result=\":podcasts:\"\n  ;;\n\"Alacritty\" | \"Hyper\" | \"iTerm2\" | \"kitty\" | \"Terminal\" | \"WezTerm\")\n  icon_result=\":terminal:\"\n  ;;\n\"Tor Browser\")\n  icon_result=\":tor_browser:\"\n  ;;\n\"Kakoune\")\n  icon_result=\":kakoune:\"\n  ;;\n\"GrandTotal\" | \"Receipts\")\n  icon_result=\":dollar:\"\n  ;;\n\"Sketch\")\n  icon_result=\":sketch:\"\n  ;;\n\"Sequel Ace\")\n  icon_result=\":sequel_ace:\"\n  ;;\n*)\n  icon_result=\":default:\"\n  ;;\nesac\necho $icon_result\n",
    "plugins/music.sh": "sleep 0.5\n\nPLAYING=$(~/.config/sketchybar/plugins/spotify.sh)\n\nif [[ $PLAYING != \"None\" ]]; then\n        sketchybar --set $NAME label.drawing=on icon.drawing=on\n\tsketchybar --set $NAME label=\"$PLAYING\"\nelse\n\tsketchybar --set $NAME label.drawing=off icon.drawing=off\nfi\n",
    "plugins/spotify.sh": "osascript -e 'tell application \"System Events\"\n        set processList to (name of every process)\nend tell\n\nif (processList contains \"Spotify\") is true then\n        tell application \"Spotify\"\n                set artistName to artist of current track\n                set trackName to name of current track\n\t\tif (trackName = \"Advertisement\") is true then\n\t\t\treturn trackName\n\t\tend if\n\t\treturn trackName & \" - \" & artistName\n        end tell\nend if\n\nreturn \"None\"'\n",
    "plugins/time.sh": "sketchybar --set $NAME label=\"$(date '+%H:%M')\"\n",
    "plugins/workspaces.sh": "if [[ $SELECTED == true ]]; then\n    sketchybar --set $NAME icon.color=0xff282930 \\\n                           label.color=0xff282930 \\\n                           background.color=0xffbd93f9 \\\n                           background.border_color=0xffbd93f9 \\\n                           background.padding_left=3 \\\n                           background.padding_right=3\nelse\n    sketchybar --set $NAME icon.color=0xffbd93f9 \\\n                           label.color=0xffbd93f9 \\\n                           background.color=0xff282930 \\\n                           background.border_color=0xff000000 \\\n                           background.padding_left=1 \\\n                           background.padding_right=1\nfi\n\nif [[ $SENDER == \"front_app_switched\" ]]; then\n    \n    SPACES=(\"main\" \"work\" \"dev\")\n\n    for i in \"${!SPACES[@]}\"; do\n        sid=$(($i+1))\n        arr=()\n        icons=\"\"\n        \n        QUERY=$(yabai -m query --windows --space $sid | jq '.[].app')\n\n        if grep -q \"\\\"\" <<< $QUERY; then\n            \n            while IFS= read -r line; do arr+=(\"$line\"); done <<< \"$QUERY\"\n    \n            for i in \"${!arr[@]}\"\n            do\n    \t        icon=$(echo ${arr[i]} | sed 's/\"//g')\n  \t        icon=$($HOME/.config/sketchybar/plugins/icons.sh $icon)\n                icons+=\"$icon  \"\n            done\n\n        fi\n\n        sketchybar --set space.$sid label=\"$icons\"\n\n    done\n\nfi\n",
    "sketchybarrc": "PLUGIN_DIR=\"$HOME/.config/sketchybar/plugins\"\nFONT_FAMILY=\"JetBrainsMono Nerd Font\"\nSPOTIFY_EVENT=\"com.spotify.client.PlaybackStateChanged\"\nMAIN_DISPLAY=$(system_profiler SPDisplaysDataType | grep -B 3 'Main Display:' | awk '/Display Type/ {print $3}')\n\nsketchybar --bar height=32 \\\n                 blur_radius=0 \\\n                 position=top \\\n                 sticky=off \\\n                 padding_left=8 \\\n                 padding_right=8 \\\n                 color=0xff000000 \\\n                 y_offset=-1 \\\n                 font_smoothing=on\n\nsketchybar --default updates=when_shown \\\n                     label.drawing=on \\\n                     icon.drawing=on \\\n                     background.color=0xff282930 \\\n                     background.border_color=0xff000000 \\\n                     background.border_width=2 \\\n                     background.corner_radius=5 \\\n                     background.padding_left=2 \\\n                     background.padding_right=2 \\\n                     background.height=24 \\\n                     icon.font=\"sketchybar-app-font:Regular:12.0\" \\\n                     icon.color=0xffbd93f9 \\\n                     label.font=\"$FONT_FAMILY:Light Italic:12.0\" \\\n                     label.color=0xfff8f8f2 \\\n                     label.padding_left=12 \\\n                     label.padding_right=12 \\\n                     icon.padding_left=12 \\\n                     icon.padding_right=-4 \\\n                     icon.y_offset=-1\n\nSPACES=(\"main\" \"work\" \"dev\")\nfor i in \"${!SPACES[@]}\"\ndo\n  sid=$(($i+1))\n  sketchybar --add space space.$sid left \\\n  sketchybar --set space.$sid associated_space=$sid \\\n                              icon.font=\"$FONT_FAMILY:Semibold Italic:12.0\" \\\n                              label.font=\"sketchybar-app-font:Regular:12.0\" \\\n                              icon=\"${SPACES[i]}\" \\\n                              icon.y_offset=0 \\\n                              label.y_offset=-1 \\\n                              script=\"$PLUGIN_DIR/workspaces.sh\" \\\n                              associated_display=1 \\\n                              background.padding_left=1 \\\n                              background.padding_right=1 \\\n                              click_script=\"yabai -m space --focus $sid\" \\\n             --subscribe space.$sid front_app_switched\ndone\n\nsketchybar --add event window_focus \\\n           --add event title_change \\\n           --add event spotify_change $SPOTIFY_EVENT\n\nsketchybar --add item time right \\\n           --set time update_freq=10 \\\n                      script=\"$PLUGIN_DIR/time.sh\" \\\n                      icon=\"\" \\\n                      icon.font=\"$FONT_FAMILY:ExtraBold:13.0\" \\\n                      icon.y_offset=0 \\\n           --add item date right \\\n           --set date update_freq=10 \\\n                      script=\"$PLUGIN_DIR/date.sh\" \\\n                      icon=\"\" \\\n                      icon.font=\"$FONT_FAMILY:ExtraBold:13.0\" \\\n                      icon.y_offset=0 \\\n           --add item focus left \\\n           --set focus script=\"$PLUGIN_DIR/focus.sh\" \\\n                       icon.color=0xff50fa7b \\\n                       label.color=0xff50fa7b \\\n                       associated_display=active \\\n                       background.padding_left=6 \\\n           --subscribe focus front_app_switched window_focus title_change display_change\n           \nif [ $MAIN_DISPLAY = \"Built-In\" ]; then\n    sketchybar --add item battery right \\\n               --set battery script=\"$PLUGIN_DIR/battery.sh\" \\\n                             icon.font=\"$FONT_FAMILY:ExtraBold:13.0\" \\\n                             icon.y_offset=0 \\\n                             update_freq=120 \\\n                             associated_display=1 \\\n               --subscribe battery system_woke power_source_change\nfi\n\nsketchybar --add item music right \\\n           --set music label.drawing=off \\\n\t\t       icon.drawing=off \\\n                       icon.font=\"sketchybar-app-font:Regular:11.0\" \\\n                       icon.y_offset=0 \\\n                       icon=\":statistics:\" \\\n                       script=\"$PLUGIN_DIR/music.sh\" \\\n                       click_script=\"open -a Spotify\" \\\n\t   --subscribe music spotify_change\n\nsketchybar --update\n"
  },
  "createdAt": "2023-01-02"
}