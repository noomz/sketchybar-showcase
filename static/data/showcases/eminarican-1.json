{
  "id": "eminarican-1",
  "title": "eminarican's Setup",
  "author": "eminarican",
  "authorUrl": "https://github.com/eminarican",
  "description": "A SketchyBar configuration shared by eminarican in the community showcase thread.",
  "screenshots": [
    "/screenshots/eminarican-1/main.png"
  ],
  "thumbnail": "/screenshots/eminarican-1/main.png",
  "mode": "dark",
  "tags": [
    "custom"
  ],
  "githubUrl": "https://github.com/eminarican/dotfiles",
  "dependencies": [
    "sketchybar"
  ],
  "dotfiles": {
    "colors.sh": "export RED=0xFFED8796 #ED8796 #E84D61\nexport BLUE=0xFF8AADF4 #8AADF4 #6588D9\nexport CYAN=0xFF90C6C4 #90C6C4 #519FB0\nexport GREEN=0xFFA6DA95 #A6DA95 #8FBB76\nexport ORANGE=0xFFF5A97F #F5A97F #FF8F44\nexport YELLOW=0xFFEED49F #EED49F #FCC76A\nexport MAGENTA=0xFFC6A0F6 #C6A0F6 #8A5F9E\n\nexport GRAY=0xFF818181 #818181\nexport WHITE=0xFFE5E5E5 #E5E5E5\nexport BLACK=0xFF161616 #161616\n\nexport BORDER_COLR=0xFF2D4342 #2D4342\nexport BG_PRI_COLR=0xCC1F1F1F #1F1F1F\nexport BG_SEC_COLR=0xCC2A2A2A #2A2A2A\n",
    "icons.sh": "export APPLE_ICON=􀣺\n\nexport WIFI_DISCONN_ICON=􀙈\nexport WIFI_CONN_ICON=􀙇\n\nexport BATTERY_BOLT_ICON=􀢋\nexport BATTERY_100_ICON=􀛨\nexport BATTERY_75_ICON=􀺸\nexport BATTERY_50_ICON=􀺶\nexport BATTERY_25_ICON=􀛩\nexport BATTERY_0_ICON=􀛪\n\nexport SOUND_FUL_ICON=􀊩\nexport SOUND_HIG_ICON=􀊧\nexport SOUND_MID_ICON=􀊥\nexport SOUND_LOW_ICON=􀊡\nexport SOUND_MUT_ICON=􀊣\n\n",
    "items/apple.sh": "APPLE=(\n  icon=$APPLE_ICON\n  label.drawing=off\n  background.padding_left=0\n  background.padding_right=20\n)\n\nsketchybar --add item apple left\nsketchybar --set apple \"${APPLE[@]}\"\n\n",
    "items/battery.sh": "BATTERY=(\n  update_freq=1\n  icon.font=\"$ICON_FONT:Regular:22.0\"\n  script=\"$PLUGIN_DIR/battery.sh\"\n)\n\nsketchybar --add item battery right\nsketchybar --set battery \"${BATTERY[@]}\"\n\n",
    "items/focus.sh": "#!/usr/bin/env sh\n\nFRONT_APP_SCRIPT='sketchybar --set $NAME label=\"$INFO\"'\n\nYABAI=(\n  script=\"$PLUGIN_DIR/yabai.sh\"\n  label.drawing=off\n  icon.width=30\n  icon=$YABAI_GRID\n  icon.color=$ORANGE\n  updates=on\n  associated_display=active\n)\n\nFOCUS=(\n  script=\"$FRONT_APP_SCRIPT\"\n  icon.drawing=off\n  background.padding_left=18\n  background.padding_right=10\n  associated_display=active\n)\n\nsketchybar --add event window_focus\nsketchybar --add event windows_on_spaces\n\nsketchybar --set yabai \"${YABAI[@]}\"\nsketchybar --subscribe yabai window_focus windows_on_spaces mouse.clicked\n\nsketchybar --add item focus left\nsketchybar --set focus \"${FOCUS[@]}\"\nsketchybar --subscribe focus front_app_switched\n\n",
    "items/sound.sh": "SOUND=(\n  update_freq=1\n\tscript=\"$PLUGIN_DIR/sound.sh\"\n)\n\nsketchybar --add item sound right\nsketchybar --set sound \"${SOUND[@]}\"\n\n",
    "items/spaces.sh": "#!/usr/bin/env sh\n\nSPACE_ICONS=(\"1\" \"2\" \"3\" \"4\" \"5\" \"6\" \"7\" \"8\" \"9\" \"10\" \"11\" \"12\" \"13\" \"14\" \"15\")\n\n# Destroy space on right click, focus space on left click.\n# New space by left clicking separator (>)\nSPACE_CLICK_SCRIPT='[ \"$BUTTON\" = \"right\" ] && (yabai -m space --destroy $SID; sketchybar --trigger space_change) || yabai -m space --focus $SID 2>/dev/null'\n\nSPACE=(\n  icon.padding_left=22\n  icon.padding_right=22\n  label.padding_right=33\n  icon.color=$WHITE\n  icon.font=\"$FONT:Semibold:13.0\"\n  icon.highlight_color=$GREEN\n  background.padding_left=-8\n  background.padding_right=-8\n  background.color=$BG_SEC_COLR\n  background.drawing=on\n  label.background.height=26\n  label.background.drawing=on\n  label.background.color=$BG_SEC_COLR\n  label.background.corner_radius=9\n  label.drawing=off\n  script=\"$PLUGIN_DIR/space.sh\"\n  click_script=\"$SPACE_CLICK_SCRIPT\"\n)\n\nsid=0\nfor i in \"${!SPACE_ICONS[@]}\"\ndo\n  sid=$(($i+1))\n  sketchybar --add space space.$sid left\n  sketchybar --set space.$sid associated_space=$sid\n  sketchybar --set space.$sid icon=${SPACE_ICONS[i]}\n  sketchybar --set space.$sid \"${SPACE[@]}\"\ndone\n\n",
    "items/time.sh": "TIME=(\n  update_freq=1\n  icon.drawing=off\n  background.padding_right=0\n  script=\"$PLUGIN_DIR/time.sh\"\n)\n\nsketchybar --add item time right\nsketchybar --set time \"${TIME[@]}\"\n\n",
    "items/wifi.sh": "WIFI=(\n  script=\"$PLUGIN_DIR/wifi.sh\"\n)\n\nsketchybar --add item wifi right\nsketchybar --set wifi \"${WIFI[@]}\"\nsketchybar --subscribe wifi wifi_change\n\n",
    "plugins/battery.sh": "source \"$HOME/.config/sketchybar/icons.sh\"\n\nPERCENTAGE=$(pmset -g batt | grep -Eo \"\\d+%\" | cut -d% -f1)\nCHARGING=$(pmset -g batt | grep 'AC Power')\n\nif [ $PERCENTAGE = \"\" ]; then\n  exit 0\nfi\n\ncase ${PERCENTAGE} in\n  9[0-9]|100) ICON=\"$BATTERY_100_ICON\" ;;\n  [6-8][0-9]) ICON=\"$BATTERY_75_ICON\" ;;\n  [3-5][0-9]) ICON=\"$BATTERY_50_ICON\" ;;\n  [1-2][0-9]) ICON=\"$BATTERY_25_ICON\" ;;\n  *) ICON=\"$BATTERY_0_ICON\"\nesac\n\nif [[ $CHARGING != \"\" ]]; then\n  ICON=\"$BATTERY_BOLT_ICON\"\nfi\n\nsketchybar --set $NAME icon=\"$ICON\" label=\"${PERCENTAGE}%\"\n",
    "plugins/sound.sh": "source \"$HOME/.config/sketchybar/icons.sh\"\n\nVOLUME=$(osascript -e \"output volume of (get volume settings)\")\nMUTED=$(osascript -e \"output muted of (get volume settings)\")\n\nif [[ $MUTED != \"false\" ]]; then\n    ICON=\"$SOUND_MUT_ICON\"\n    VOLUME=0\nelse\n    case ${VOLUME} in\n        100) ICON=\"$SOUND_FUL_ICON\" ;;\n        [7-9][0-9]) ICON=\"$SOUND_HIG_ICON\" ;;\n        [3-6][0-9]) ICON=\"$SOUND_MID_ICON\" ;;\n        [1-2][0-9]|[1-9]) ICON=\"$SOUND_LOW_ICON\" ;;\n        *) ICON=\"$SOUND_MUT_ICON\"\n    esac\nfi\n\nsketchybar -m \\\n    --set $NAME icon=$ICON \\\n    --set $NAME label=\"$VOLUME%\"\n",
    "plugins/space.sh": "#!/usr/bin/env sh\n\nWIDTH=\"dynamic\"\nif [ \"$SELECTED\" = \"true\" ]; then\n  WIDTH=\"0\"\nfi\n\nsketchybar --animate tanh 20 --set $NAME icon.highlight=$SELECTED label.width=$WIDTH\n",
    "plugins/time.sh": "LABEL=$(date '+%d %B %a %H:%M')\nsketchybar --set $NAME label=\"$LABEL\"\n",
    "plugins/wifi.sh": "source \"$HOME/.config/sketchybar/icons.sh\"\n\nCURRENT_WIFI=\"$(/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I)\"\nSSID=\"$(echo \"$CURRENT_WIFI\" | grep -o \"SSID: .*\" | sed 's/^SSID: //')\"\n\nif [ \"$SSID\" = \"\" ]; then\n  sketchybar --set $NAME label=\"Disconnected\" icon=\"$WIFI_DISCONN_ICON\"\nelse\n  sketchybar --set $NAME label=\"$SSID\" icon=\"$WIFI_CONN_ICON\"\nfi\n\n",
    "plugins/yabai.sh": "#!/bin/sh\n\nwindow_state() {\n  source \"$HOME/.config/sketchybar/colors.sh\"\n  source \"$HOME/.config/sketchybar/icons.sh\"\n\n  WINDOW=$(yabai -m query --windows --window)\n  CURRENT=$(echo \"$WINDOW\" | jq '.[\"stack-index\"]')\n\n  args=()\n  if [[ $CURRENT -gt 0 ]]; then\n    LAST=$(yabai -m query --windows --window stack.last | jq '.[\"stack-index\"]')\n    args+=(--set $NAME icon=$YABAI_STACK icon.color=$RED label.drawing=on label=$(printf \"[%s/%s]\" \"$CURRENT\" \"$LAST\"))\n    yabai -m config active_window_border_color $RED > /dev/null 2>&1 &\n\n  else \n    args+=(--set $NAME label.drawing=off)\n    case \"$(echo \"$WINDOW\" | jq '.[\"is-floating\"]')\" in\n      \"false\")\n        if [ \"$(echo \"$WINDOW\" | jq '.[\"has-fullscreen-zoom\"]')\" = \"true\" ]; then\n          args+=(--set $NAME icon=$YABAI_FULLSCREEN_ZOOM icon.color=$GREEN)\n          yabai -m config active_window_border_color $GREEN > /dev/null 2>&1 &\n        elif [ \"$(echo \"$WINDOW\" | jq '.[\"has-parent-zoom\"]')\" = \"true\" ]; then\n          args+=(--set $NAME icon=$YABAI_PARENT_ZOOM icon.color=$BLUE)\n          yabai -m config active_window_border_color $BLUE > /dev/null 2>&1 &\n        else\n          args+=(--set $NAME icon=$YABAI_GRID icon.color=$ORANGE)\n          yabai -m config active_window_border_color $WHITE > /dev/null 2>&1 &\n        fi\n        ;;\n      \"true\")\n        args+=(--set $NAME icon=$YABAI_FLOAT icon.color=$MAGENTA)\n        yabai -m config active_window_border_color $MAGENTA > /dev/null 2>&1 &\n        ;;\n    esac\n  fi\n\n  sketchybar -m \"${args[@]}\"\n}\n\nwindows_on_spaces () {\n  CURRENT_SPACES=\"$(yabai -m query --displays | jq -r '.[].spaces | @sh')\"\n\n  args=()\n  while read -r line\n  do\n    for space in $line\n    do\n      icon_strip=\" \"\n      apps=$(yabai -m query --windows --space $space | jq -r \".[].app\")\n      if [ \"$apps\" != \"\" ]; then\n        while IFS= read -r app; do\n          icon_strip+=\" $($HOME/.config/sketchybar/plugins/icon_map.sh \"$app\")\"\n        done <<< \"$apps\"\n      fi\n      args+=(--set space.$space label=\"$icon_strip\" label.drawing=on)\n    done\n  done <<< \"$CURRENT_SPACES\"\n\n  sketchybar -m \"${args[@]}\"\n}\n\nmouse_clicked() {\n  yabai -m window --toggle float\n  window_state\n}\n\ncase \"$SENDER\" in\n  \"mouse.clicked\") mouse_clicked\n  ;;\n  \"forced\") exit 0\n  ;;\n  \"window_focus\") window_state \n  ;;\n  \"windows_on_spaces\") windows_on_spaces\n  ;;\nesac",
    "sketchybarrc": "#!/bin/bash\n\nDIR=\"$HOME/.config/sketchybar/\"\nITEM_DIR=\"$DIR/items\"\nPLUGIN_DIR=\"$DIR/plugins\"\n\nFONT=\"JetBrainsMono Nerd Font\"\nICON_FONT=\"SF Pro\"\n\nPADDING=3\n\nsource \"$DIR/colors.sh\"\nsource \"$DIR/icons.sh\"\n\nBAR_PROPS=(\n  height=40\n  color=$BG_PRI_COLR\n  border_width=1\n  border_color=$BORDER_COLR\n  shadow=off\n  position=top\n  sticky=on\n  padding_right=15\n  padding_left=15\n  corner_radius=9\n  y_offset=10\n  margin=12\n  blur_radius=15\n  notch_width=0\n)\n\nDEF_PROPS=(\n  updates=when_shown\n  icon.font=\"$ICON_FONT:Regular:18.0\"\n  icon.color=$GREEN\n  icon.padding_left=$PADDING\n  icon.padding_right=$PADDING\n  label.font=\"$FONT:Semibold:13.0\"\n  label.color=$GREEN\n  label.padding_left=$PADDING\n  label.padding_right=$PADDING\n  background.padding_right=$PADDING\n  background.padding_left=$PADDING\n  background.height=26\n  background.corner_radius=9\n  popup.background.border_width=2\n  popup.background.corner_radius=11\n  popup.background.border_color=$BORDER_COLR\n  popup.background.color=$BG_PRI_COLR\n  popup.background.shadow.drawing=on\n)\n\nsketchybar --bar \"${BAR_PROPS[@]}\"\nsketchybar --default \"${DEF_PROPS[@]}\"\n\nsource \"$ITEM_DIR/apple.sh\"\nsource \"$ITEM_DIR/spaces.sh\"\nsource \"$ITEM_DIR/focus.sh\"\n\nsource \"$ITEM_DIR/time.sh\"\nsource \"$ITEM_DIR/battery.sh\"\nsource \"$ITEM_DIR/sound.sh\"\nsource \"$ITEM_DIR/wifi.sh\"\n\nsketchybar --update\n\n"
  },
  "createdAt": "2023-04-11"
}